<?xml version="1.0" encoding="utf-8"?>

<definitions name="ProductsService"
  targetNamespace="http://localhost:4000/soap/products"
  xmlns:pns="http://localhost:4000/soap/products"
  xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:wsql="http://schemas.xmlsoap.org/wsdl/">

  <!-- Types de données -->
  <types>
    <xsd:schema targetNamespace="http://localhost:4000/soap/products" 
      xmlns:xsd="http://www.w3.org/2001/XMLSchema">
      <xsd:complexType name="Product">
        <xsd:sequence>
          <xsd:element name="id" type="xsd:int"/>
          <xsd:element name="title" type="xsd:string"/>
          <xsd:element name="category" type="xsd:string"/>
          <xsd:element name="ean" type="xsd:string"/>
          <xsd:element name="description" type="xsd:string" minOccurs="0"/>
          <xsd:element name="specs" type="xsd:string"/>
          <xsd:element name="price" type="xsd:float"/>
        </xsd:sequence>
      </xsd:complexType>
    </xsd:schema>
  </types>

  <!-- Messages -->
  <message name="ListProductsRequest" />
  <message name="ListProductsResponse">
    <part name="products" type="pns:Product" />
  </message>
  <message name="GetProductRequest">
      <part name="id" type="int" />
  </message>
  <message name="GetProductResponse">
    <part name="product" type="pns:Product" />
  </message>
  <message name="PutProductRequest">
      <part name="id" type="int" />
      <part name="product" type="pns:Product" />
  </message>
  <message name="PutProductResponse">
    <part name="product" type="pns:Product" />
  </message>
  <message name="PatchProductRequest">
      <part name="id" type="int" />
      <part name="product" type="pns:Product" />
  </message>
  <message name="PatchProductResponse">
    <part name="product" type="pns:Product" />
  </message>
  <message name="PostProductRequest">
      <part name="product" type="pns:Product" />
  </message>
  <message name="PostProductResponse">
    <part name="product" type="pns:Product" />
  </message>
  <message name="DelectProductRequest">
      <part name="id" type="int" />
  </message>
  <message name="DeleteProductResponse">
    <part name="success" type="xsd:boolean" />
  </message>

  
  <!-- Liste des opérations disponibles -->
  <portType name="ProductsServicePort">
    <operation name="ListProducts">
      <input message="pns:ListProductsRequest" />
      <output message="pns:ListProductsResponse" />
    </operation>
    <operation name="GetProduct">
      <input message="pns:GetProductRequest" />
      <output message="pns:GetProductResponse" />
    </operation>
    <operation name="PutProduct">
      <input message="pns:PutProductRequest" />
      <output message="pns:PutProductResponse" />
    </operation>
    <operation name="PatchProduct">
      <input message="pns:PatchProductRequest" />
      <output message="pns:PatchProductResponse" />
    </operation>
    <operation name="PostProduct">
      <input message="pns:PostProductRequest" />
      <output message="pns:PostProductResponse" />
    </operation>
    <operation name="DeleteProduct">
      <input message="pns:DelectProductRequest" />
      <output message="pns:DeleteProductResponse" />
    </operation>
  </portType>

  <!-- Bindings -->
  <binding name="ProductsServiceBinding" type="pns:ProductsServicePort">
    <soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http" />
    <operation name="ListProducts">
      <soap:operation soapAction="ListProducts" />
      <input>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </input>
      <output>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </output>
    </operation>
    <operation name="GetProduct">
      <soap:operation soapAction="GetProduct" />
      <input>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </input>
      <output>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </output>
    </operation>
    <operation name="PutProduct">
      <soap:operation soapAction="PutProduct" />
      <input>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </input>
      <output>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </output>
    </operation>
    <operation name="PatchProduct">
      <soap:operation soapAction="PutProduct" />
      <input>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </input>
      <output>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </output>
    </operation>
    <operation name="PostProduct">
      <soap:operation soapAction="PostProduct" />
      <input>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </input>
      <output>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </output>
    </operation>
    <operation name="DeleteProduct">
      <soap:operation soapAction="DeleteProduct" />
      <input>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </input>
      <output>
        <soap:body use="encoded" namespace="http://localhost:4000/soap/products"
            encodingStyle="http://schemas.xmlsoap.org/soap/encoding" />
      </output>
    </operation>
  </binding>

  <!-- Service -->
  <service name="ProductsService">
    <port name="ProductsServicePort" binding="pns:ProductsServiceBinding">
      <soap:address location="http://localhost:4000/soap/products/" />
    </port>
  </service>


</definitions>